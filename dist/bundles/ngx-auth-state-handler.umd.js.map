{"version":3,"file":"ngx-auth-state-handler.umd.js.map","sources":["ng://ngx-auth-state-handler/lib/ngx-auth-state-handler.service.ts","ng://ngx-auth-state-handler/lib/ngx-auth-state-handler.module.ts"],"sourcesContent":["/**\n * @license MIT\n * @version 1.1.0\n * @author Leonardo Quevedo\n * @description Authentication management service.\n */\n\nimport { Injectable } from '@angular/core'\n\n@Injectable()\nexport class NgxAuthStateHandler {\n\n    USER_KEY: string = ''\n    TOKEN_KEY: string = ''\n\n    constructor() { }\n\n    setPrefix(prefix: string) {\n        this.USER_KEY = prefix.toUpperCase().replace(/-/g, '_') + '_USER_DATA'\n        this.TOKEN_KEY = prefix.toUpperCase().replace(/-/g, '_') + '_ACCESS_TOKEN'\n    }\n\n    isLoggedIn() {\n        return localStorage[this.TOKEN_KEY] != 'undefined' && localStorage[this.TOKEN_KEY] != undefined\n    }\n\n    setLoggedInUser(user) {\n        localStorage[this.USER_KEY] = JSON.stringify(user)\n    }\n\n    hasRole(role: string) {\n        return this.isLoggedIn() && (this.getLoggedInUser().roles.indexOf(role.toUpperCase()) > -1)\n    }\n\n    getLoggedInUser() {\n        if (this.isLoggedIn()) return JSON.parse(localStorage[this.USER_KEY])\n    }\n\n    setAccessToken(token: string) {\n        localStorage[this.TOKEN_KEY] = token\n    }\n\n    getAccessToken() {\n        return localStorage[this.TOKEN_KEY]\n    }\n\n    logout(callback: Function) {\n        delete localStorage[this.USER_KEY]\n        delete localStorage[this.TOKEN_KEY]\n        callback()\n    }\n}","/**\n * @license MIT\n * @author Leonardo Quevedo\n * @description Directive module.\n */\n\nimport { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { NgxAuthStateHandler } from './ngx-auth-state-handler.service'\n\n@NgModule({\n    imports: [CommonModule],\n    providers: [NgxAuthStateHandler]\n})\nexport class NgxAuthStateHandlerModule { }"],"names":["Injectable","NgModule","CommonModule"],"mappings":";;;;;;;;;;;QAeI;YAHA,aAAQ,GAAW,EAAE,CAAA;YACrB,cAAS,GAAW,EAAE,CAAA;SAEL;;;;;QAEjB,uCAAS;;;;YAAT,UAAU,MAAc;gBACpB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,YAAY,CAAA;gBACtE,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,eAAe,CAAA;aAC7E;;;;QAED,wCAAU;;;YAAV;gBACI,OAAO,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,WAAW,IAAI,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,SAAS,CAAA;aAClG;;;;;QAED,6CAAe;;;;YAAf,UAAgB,IAAI;gBAChB,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;aACrD;;;;;QAED,qCAAO;;;;YAAP,UAAQ,IAAY;gBAChB,OAAO,IAAI,CAAC,UAAU,EAAE,KAAK,IAAI,CAAC,eAAe,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA;aAC9F;;;;QAED,6CAAe;;;YAAf;gBACI,IAAI,IAAI,CAAC,UAAU,EAAE;oBAAE,OAAO,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAA;aACxE;;;;;QAED,4CAAc;;;;YAAd,UAAe,KAAa;gBACxB,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,KAAK,CAAA;aACvC;;;;QAED,4CAAc;;;YAAd;gBACI,OAAO,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;aACtC;;;;;QAED,oCAAM;;;;YAAN,UAAO,QAAkB;gBACrB,OAAO,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;gBAClC,OAAO,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;gBACnC,QAAQ,EAAE,CAAA;aACb;;oBAzCJA,eAAU;;;;QA0CX,0BAAC;KA1CD;;;;;;;QCCA;SAI0C;;oBAJzCC,aAAQ,SAAC;wBACN,OAAO,EAAE,CAACC,mBAAY,CAAC;wBACvB,SAAS,EAAE,CAAC,mBAAmB,CAAC;qBACnC;;QACwC,gCAAC;KAJ1C;;;;;;;;;;;;;;;;;;;;;;;"}
